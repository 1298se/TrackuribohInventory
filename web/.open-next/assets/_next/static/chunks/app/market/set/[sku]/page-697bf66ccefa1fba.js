(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{19528:(e,t,r)=>{"use strict";r.d(t,{SetList:()=>f});var n=r(95155),a=r(22454),s=r(63961),c=r(21006),o=r(90923),i=r(68122),l=r(83856),d=r(36242),u=r(86651);function f(e){var t;let{setId:r}=e,{data:f,isLoading:p,error:x}=(0,a.I)((0,s.qD)({query:"",setId:r}));if(p)return(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6",children:(0,n.jsx)(i.E,{className:"h-8 w-64"})}),(0,n.jsxs)(o.tU,{defaultValue:"cards",className:"w-full",children:[(0,n.jsxs)(o.j7,{children:[(0,n.jsx)(o.Xi,{value:"cards",children:(0,n.jsx)(i.E,{className:"h-4 w-16"})}),(0,n.jsx)(o.Xi,{value:"sealed",children:(0,n.jsx)(i.E,{className:"h-4 w-16"})})]}),(0,n.jsx)(o.av,{value:"cards",className:"mt-6",children:(0,n.jsx)(c.w,{})}),(0,n.jsx)(o.av,{value:"sealed",className:"mt-6",children:(0,n.jsx)(c.w,{})})]})]});if(x)return(0,n.jsxs)("div",{className:"p-8 text-red-500",children:["Error loading products: ",x.message]});if(!f||0===f.results.length)return(0,n.jsx)(d.p,{title:"No cards found",description:"Try searching for a different Pokemon name or set",icon:u.A});let h=null==(t=f.results[0])?void 0:t.set.name;(0,l.J)(h,"Set name is required");let v=f.results.filter(e=>"CARDS"===e.product.product_type).sort((e,t)=>{let r=parseInt(e.product.number||"0",10);return parseInt(t.product.number||"0",10)-r}),g=f.results.filter(e=>"SEALED"===e.product.product_type);return(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6",children:h}),(0,n.jsxs)(o.tU,{defaultValue:"cards",className:"w-full",children:[(0,n.jsxs)(o.j7,{children:[(0,n.jsxs)(o.Xi,{value:"cards",children:["Cards (",v.length,")"]}),(0,n.jsxs)(o.Xi,{value:"sealed",children:["Sealed (",g.length,")"]})]}),(0,n.jsx)(o.av,{value:"cards",className:"mt-6",children:(0,n.jsx)(c.x,{cards:v.map(m)})}),(0,n.jsx)(o.av,{value:"sealed",className:"mt-6",children:(0,n.jsx)(c.x,{cards:g.map(m)})})]})]})}function m(e){return{decisionId:e.id,productId:e.product.id,name:e.product.name,number:e.product.number,image_url:e.product.image_url,set:{name:e.set.name,id:e.set.id},price:0,product_type:e.product.product_type}}},21006:(e,t,r)=>{"use strict";r.d(t,{x:()=>m,w:()=>p});var n=r(95155),a=r(83209),s=r(74752),c=r(86075),o=r(42152),i=r(68122),l=r(52619),d=r.n(l);function u(e){let{card:t}=e,r="SEALED"===t.product_type;return(0,n.jsx)(d(),{href:"/market/".concat(t.productId),className:"w-auto",children:(0,n.jsxs)(a.Zp,{className:"p-4 flex flex-row gap-4",children:[(0,n.jsx)(a.Wu,{className:"px-0 py-0 w-[120px] flex justify-center rounded-md",children:(0,n.jsx)("div",{className:"w-[120px] h-[160px] flex items-center justify-center rounded-md ".concat(r&&"bg-white p-2"),children:(0,n.jsx)(s.X,{src:(0,c.I)({imageUrl:t.image_url}),alt:t.name,containerClassName:"w-full h-full",className:"object-contain",productType:t.product_type})})}),(0,n.jsxs)("div",{className:"pt-0 flex flex-col",children:[(0,n.jsx)("p",{className:"text-xs font-medium tracking-wide text-muted-foreground",children:t.name}),(0,n.jsx)("p",{className:"font-semibold text-lg tracking-wide",children:(0,o.vv)(t.price)})]})]})})}function f(){return(0,n.jsxs)(a.Zp,{className:"p-4 flex flex-row gap-4 w-full",children:[(0,n.jsx)(a.Wu,{className:"px-0 py-0 w-[120px] flex justify-center rounded-md",children:(0,n.jsx)(i.E,{className:"w-[120px] h-[160px] rounded-md"})}),(0,n.jsxs)("div",{className:"pt-0 flex flex-col gap-2",children:[(0,n.jsx)(i.E,{className:"h-4 w-32"}),(0,n.jsx)(i.E,{className:"h-6 w-20"})]})]})}function m(e){let{cards:t}=e;return(0,n.jsx)(x,{children:t.map(e=>(0,n.jsx)(u,{card:e},e.decisionId))})}function p(){return(0,n.jsx)(x,{children:Array.from({length:10}).map((e,t)=>(0,n.jsx)(f,{},t))})}function x(e){let{children:t}=e;return(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:t})}},25016:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var n=r(2821),a=r(75889);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}},36242:(e,t,r)=>{"use strict";r.d(t,{p:()=>m});var n=r(95155),a=r(83101),s=r(25016);function c(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"empty",className:(0,s.cn)("flex min-w-0 flex-1 flex-col items-center justify-center gap-6 text-balance rounded-lg border-dashed p-6 text-center md:p-12",t),...r})}function o(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"empty-header",className:(0,s.cn)("flex max-w-sm flex-col items-center gap-2 text-center",t),...r})}let i=(0,a.F)("mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",icon:"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r="default",...a}=e;return(0,n.jsx)("div",{"data-slot":"empty-icon","data-variant":r,className:(0,s.cn)(i({variant:r,className:t})),...a})}function d(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"empty-title",className:(0,s.cn)("text-lg font-medium tracking-tight",t),...r})}function u(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"empty-description",className:(0,s.cn)("text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4",t),...r})}function f(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"empty-content",className:(0,s.cn)("flex w-full min-w-0 max-w-sm flex-col items-center gap-4 text-balance text-sm",t),...r})}function m(e){let{icon:t,title:r,description:a,action:s,className:i=""}=e;return(0,n.jsxs)(c,{className:i,children:[(0,n.jsxs)(o,{children:[t&&(0,n.jsx)(l,{variant:"icon",children:(0,n.jsx)(t,{})}),(0,n.jsx)(d,{children:r}),a&&(0,n.jsx)(u,{children:a})]}),s&&(0,n.jsx)(f,{children:s})]})}},42152:(e,t,r)=>{"use strict";function n(e){return!(null==e||"number"==typeof e&&isNaN(e))&&("string"!=typeof e||""!==e)&&("boolean"!=typeof e||!1!==e)&&("number"!=typeof e||0!==e)}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return null==e?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}function s(e){return e.find(e=>"NM"===e.condition.abbreviation)}r.d(t,{dT:()=>s,vv:()=>a,zz:()=>n})},42196:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},59121:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});let n=r(95704).env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8000"},60574:(e,t,r)=>{"use strict";r.d(t,{UC:()=>W,B8:()=>Z,bL:()=>V,l9:()=>O});var n=r(12115),a=r(92556),s=r(3468),c=r(49972),o=r(94446),i=r(68946),l=r(97602),d=r(70222),u=r(23558),f=r(66218),m=r(95155),p="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[v,g,j]=(0,c.N)(h),[y,b]=(0,s.A)(h,[j]),[w,N]=y(h),k=n.forwardRef((e,t)=>(0,m.jsx)(v.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(v.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(E,{...e,ref:t})})}));k.displayName=h;var E=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:s,loop:c=!1,dir:i,currentTabStopId:v,defaultCurrentTabStopId:j,onCurrentTabStopIdChange:y,onEntryFocus:b,preventScrollOnEntryFocus:N=!1,...k}=e,E=n.useRef(null),_=(0,o.s)(t,E),I=(0,f.jH)(i),[A,R]=(0,u.i)({prop:v,defaultProp:null!=j?j:null,onChange:y,caller:h}),[C,D]=n.useState(!1),K=(0,d.c)(b),S=g(r),T=n.useRef(!1),[q,L]=n.useState(0);return n.useEffect(()=>{let e=E.current;if(e)return e.addEventListener(p,K),()=>e.removeEventListener(p,K)},[K]),(0,m.jsx)(w,{scope:r,orientation:s,dir:I,loop:c,currentTabStopId:A,onItemFocus:n.useCallback(e=>R(e),[R]),onItemShiftTab:n.useCallback(()=>D(!0),[]),onFocusableItemAdd:n.useCallback(()=>L(e=>e+1),[]),onFocusableItemRemove:n.useCallback(()=>L(e=>e-1),[]),children:(0,m.jsx)(l.sG.div,{tabIndex:C||0===q?-1:0,"data-orientation":s,...k,ref:_,style:{outline:"none",...e.style},onMouseDown:(0,a.mK)(e.onMouseDown,()=>{T.current=!0}),onFocus:(0,a.mK)(e.onFocus,e=>{let t=!T.current;if(e.target===e.currentTarget&&t&&!C){let t=new CustomEvent(p,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=S().filter(e=>e.focusable);F([e.find(e=>e.active),e.find(e=>e.id===A),...e].filter(Boolean).map(e=>e.ref.current),N)}}T.current=!1}),onBlur:(0,a.mK)(e.onBlur,()=>D(!1))})})}),_="RovingFocusGroupItem",I=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:s=!0,active:c=!1,tabStopId:o,children:d,...u}=e,f=(0,i.B)(),p=o||f,x=N(_,r),h=x.currentTabStopId===p,j=g(r),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:w}=x;return n.useEffect(()=>{if(s)return y(),()=>b()},[s,y,b]),(0,m.jsx)(v.ItemSlot,{scope:r,id:p,focusable:s,active:c,children:(0,m.jsx)(l.sG.span,{tabIndex:h?0:-1,"data-orientation":x.orientation,...u,ref:t,onMouseDown:(0,a.mK)(e.onMouseDown,e=>{s?x.onItemFocus(p):e.preventDefault()}),onFocus:(0,a.mK)(e.onFocus,()=>x.onItemFocus(p)),onKeyDown:(0,a.mK)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void x.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let a=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return A[a]}(e,x.orientation,x.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=j().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let n=r.indexOf(e.currentTarget);r=x.loop?function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(r,n+1):r.slice(n+1)}setTimeout(()=>F(r))}}),children:"function"==typeof d?d({isCurrentTabStop:h,hasTabStop:null!=w}):d})})});I.displayName=_;var A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var R=r(76842),C="Tabs",[D,K]=(0,s.A)(C,[b]),S=b(),[T,q]=D(C),L=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:c="horizontal",dir:o,activationMode:d="automatic",...p}=e,x=(0,f.jH)(o),[h,v]=(0,u.i)({prop:n,onChange:a,defaultProp:null!=s?s:"",caller:C});return(0,m.jsx)(T,{scope:r,baseId:(0,i.B)(),value:h,onValueChange:v,orientation:c,dir:x,activationMode:d,children:(0,m.jsx)(l.sG.div,{dir:x,"data-orientation":c,...p,ref:t})})});L.displayName=C;var U="TabsList",P=n.forwardRef((e,t)=>{let{__scopeTabs:r,loop:n=!0,...a}=e,s=q(U,r),c=S(r);return(0,m.jsx)(k,{asChild:!0,...c,orientation:s.orientation,dir:s.dir,loop:n,children:(0,m.jsx)(l.sG.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});P.displayName=U;var B="TabsTrigger",G=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,disabled:s=!1,...c}=e,o=q(B,r),i=S(r),d=M(o.baseId,n),u=X(o.baseId,n),f=n===o.value;return(0,m.jsx)(I,{asChild:!0,...i,focusable:!s,active:f,children:(0,m.jsx)(l.sG.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...c,ref:t,onMouseDown:(0,a.mK)(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(n)}),onKeyDown:(0,a.mK)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(n)}),onFocus:(0,a.mK)(e.onFocus,()=>{let e="manual"!==o.activationMode;f||s||!e||o.onValueChange(n)})})})});G.displayName=B;var H="TabsContent",z=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,forceMount:s,children:c,...o}=e,i=q(H,r),d=M(i.baseId,a),u=X(i.baseId,a),f=a===i.value,p=n.useRef(f);return n.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(R.C,{present:s||f,children:r=>{let{present:n}=r;return(0,m.jsx)(l.sG.div,{"data-state":f?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":d,hidden:!n,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:n&&c})}})});function M(e,t){return"".concat(e,"-trigger-").concat(t)}function X(e,t){return"".concat(e,"-content-").concat(t)}z.displayName=H;var V=L,Z=P,O=G,W=z},63961:(e,t,r)=>{"use strict";r.d(t,{cz:()=>i,II:()=>c,qD:()=>d,P5:()=>p,o_:()=>f});var n=r(59121),a=r(86560);async function s(e){return(await fetch("".concat(n.H,"/catalog/product/").concat(e))).json()}function c(e){return(0,a.j)({queryKey:["product",e],queryFn:()=>s(e)})}async function o(e){return(await fetch("".concat(n.H,"/market/product/").concat(e,"/market-prices"))).json()}function i(e){return(0,a.j)({queryKey:["product-market-prices",e],queryFn:()=>o(e)})}async function l(e){let{query:t,productType:r,setId:a,limit:s}=e,c=new URLSearchParams;c.set("query",t),c.set("catalog_id","067820ab-e61f-7a87-8000-f9c5e424c0c0"),r&&c.set("product_type",r),a&&c.set("set_id",a),void 0!==s&&c.set("limit",s.toString());let o=await fetch("".concat(n.H,"/catalog/search?").concat(c.toString()));return await o.json()}function d(e){let{query:t,productType:r,setId:n,limit:s}=e;return(0,a.j)({queryKey:["search",t,r,n,s],queryFn:()=>l({query:t,productType:r,setId:n,limit:s})})}async function u(){let e=await fetch("".concat(n.H,"/catalog/sets"));if(!e.ok)throw Error("Failed to fetch sets");return e.json()}function f(){return(0,a.j)({queryKey:["sets"],queryFn:u})}async function m(){let e=await fetch("".concat(n.H,"/catalog/product-types"));if(!e.ok)throw Error("Failed to fetch product types");return e.json()}function p(){return(0,a.j)({queryKey:["product-types"],queryFn:m})}},68122:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(95155),a=r(25016);function s(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-primary/10",t),...r})}},74752:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=r(95155),a=r(12115),s=r(25016),c=r(42196),o=r(15239);function i(e){let{src:t,alt:r,className:i,containerClassName:l,fallbackClassName:d,productType:u,...f}=e,[m,p]=a.useState(!1);return(0,n.jsx)("div",{className:(0,s.cn)("relative h-16 w-16",l),...f,children:m?"CARDS"===u?(0,n.jsx)(o.default,{src:"/assets/placeholder-pokemon-back.png",alt:"Pokemon card back",fill:!0,className:(0,s.cn)("object-contain rounded-xs",i)}):(0,n.jsx)("div",{className:(0,s.cn)("h-full w-full flex items-center justify-center rounded-xs bg-white border",d),children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center p-1 text-center",children:[(0,n.jsx)(c.A,{className:"h-6 w-6 text-muted-foreground"}),(0,n.jsx)("span",{className:"text-xs text-muted-foreground mt-1",children:"No image"})]})}):(0,n.jsx)("img",{src:t,alt:r,className:(0,s.cn)("h-full w-full object-contain rounded-xs",i),onError:()=>{p(!0)}})})}},83209:(e,t,r)=>{"use strict";r.d(t,{BT:()=>i,Wu:()=>l,ZB:()=>o,Zp:()=>s,aR:()=>c});var n=r(95155);r(12115);var a=r(25016);function s(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function c(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function o(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...r})}function i(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",t),...r})}function l(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...r})}},83856:(e,t,r)=>{"use strict";function n(e,t){if(null==e)throw Error(t||"Expected value to not be null or undefined, but got ".concat(e))}function a(e,t){if(!e)throw Error(t||"Assertion failed: expected truthy value, got ".concat(e))}r.d(t,{J:()=>n,v:()=>a})},85865:(e,t,r)=>{Promise.resolve().then(r.bind(r,19528))},86075:(e,t,r)=>{"use strict";function n(e){var t;let{imageUrl:r,size:n=400}=e,a=null==(t=r.match(/\/product\/(\d+)_200w\.jpg/))?void 0:t[1];return a?"https://tcgplayer-cdn.tcgplayer.com/product/".concat(a,"_in_").concat(n,"x").concat(n,".jpg"):r}r.d(t,{I:()=>n})},86651:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},90923:(e,t,r)=>{"use strict";r.d(t,{Xi:()=>l,av:()=>d,j7:()=>i,tU:()=>o});var n=r(95155),a=r(12115),s=r(60574),c=r(25016);let o=s.bL,i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.B8,{ref:t,className:(0,c.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...a})});i.displayName=s.B8.displayName;let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.l9,{ref:t,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});l.displayName=s.l9.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.UC,{ref:t,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});d.displayName=s.UC.displayName}},e=>{e.O(0,[958,850,999,127,441,255,358],()=>e(e.s=85865)),_N_E=e.O()}]);